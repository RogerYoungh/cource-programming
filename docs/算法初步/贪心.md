# 贪心

在算法思想一节中，我们已经介绍过贪心的思想了，这里我们谈谈应用。

## P4995 跳跳！

> 给定石头的高度 $h$，从第 $i$ 块石头跳到 $j$ 上耗费体力 $(h_i-h_j)^2$，求最耗体力的路径。

凭借一些数学的灵感，可以猜到是在剩余的石头中，高度差当前最大的来回跳。即最大最小来回跳。

尝试通过邻项交换法证明最优性。选中我们关注的特殊项 $i,j$ （不妨设 $i < j$ 且不相邻），其他略作常数

$$\begin{aligned}S(i,j) &= \sum_{k=1}^{n-1}(h_k-h_{k+1})^2 = \sum_{k=1}^nh_k^2 - 2\sum_{k=1}^{n-1}h_kh_{k+1}\\ 
&= h_i^2+h_j^2-2h_i(h_{i-1}+h_{i+1})-2h_j(h_{j-1}+h_{j+1})\end{aligned}$$

考虑交换 $i$ 和 $j$ 位置的元素，有

$$S(j,i)= h_j^2+h_i^2-2h_j(h_{i-1}+h_{i+1})-2h_i(h_{j-1}+h_{j+1})$$

设 $S(i,j) < S(j,i)$

利用高中数学的排序不等式，我们可以直接证明排序后最小。

## 练习

- [P4995 跳跳！](https://www.luogu.com.cn/problem/P4995)
- [P1803 凌乱的yyy / 线段覆盖](https://www.luogu.com.cn/problem/P1803)
- [P5019 铺设道路](https://www.luogu.com.cn/problem/P5019)

